@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Space+Grotesk:wght@600;700&display=swap');

:root{
  --ink:#0b1220;
  --muted:#5b6476;
  --brand:#0b6b68;
  --brand-strong:#054b4a;
  --brand-soft:#e6f4f3;
  --surface:#ffffff;
  --surface-alt:#f6faf9;
  --line:#e3e8ef;
  --ok:#166534;
  --ok-soft:#dcfce7;
  --ok-line:#bbf7d0;
  --bad:#991b1b;
  --bad-soft:#fee2e2;
  --bad-line:#fecaca;
  --shadow:0 18px 40px rgba(11,18,32,.08);
}

*{box-sizing:border-box}

body{
  margin:0;
  color:var(--ink);
  font-family:"Plus Jakarta Sans", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background:
    radial-gradient(1200px 650px at 18% 0%, #d7f1ee 0%, rgba(215,241,238,0) 68%),
    linear-gradient(180deg, #edf6f4 0%, #f8fbfa 55%, #ffffff 100%);
}

#app.container{
  width:min(940px, calc(100% - 28px));
  min-height:620px;
  margin:22px auto;
  padding:22px;
  border:1px solid var(--line);
  border-radius:22px;
  background:linear-gradient(180deg, #f8fcfb 0%, #edf5f4 100%);
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  gap:18px;
  overflow:hidden;
  position:relative;
}

#app.container::before{
  content:"";
  position:absolute;
  width:380px;
  height:380px;
  right:-140px;
  top:-170px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(11,107,104,.13) 0%, rgba(11,107,104,0) 70%);
  pointer-events:none;
}

#app .progress{
  display:grid;
  grid-template-columns:auto 1fr auto;
  grid-template-areas:"back bar count";
  align-items:center;
  gap:14px;
  padding:2px 2px 16px;
  
  position:relative;
  z-index:1;
}

#app .back-btn{
  grid-area:back;
  border:1px solid rgba(11,107,104,.25);
  background:#fff;
  color:var(--brand-strong);
  border-radius:999px;
  padding:9px 14px;
  font-weight:700;
  font-size:13px;
  cursor:pointer;
  transition:.2s ease;
}

#app .back-btn:hover{
  border-color:var(--brand);
  background:#f1fbf9;
}

#app .progress-track{
  grid-area:bar;
  height:11px;
  border-radius:999px;
  background:#e7edf3;
  overflow:hidden;
}

#app .progress-fill{
  display:block;
  height:100%;
  width:0;
  border-radius:999px;
  background:linear-gradient(90deg, var(--brand), #1a9c8d);
  transition:width .35s ease;
}

#app .progress-count{
  grid-area:count;
  justify-self:end;
  padding:8px 13px;
  border-radius:999px;
  font-size:13px;
  font-weight:700;
  color:var(--brand-strong);
  background:var(--brand-soft);
  white-space:nowrap;
}

#app .question{
  display:block;
  margin:0;
  padding:30px 26px 24px;
  border:1px solid #bfd3d1;
  border-radius:20px;
  background:#ffffff;
  box-shadow:0 16px 34px rgba(11,18,32,.09);
  position:relative;
  overflow:visible;
  max-height:none;
  line-height:1.5;
  isolation:isolate;
}

#app .question::before{
  content:"Сұрақ";
  position:absolute;
  top:-12px;
  left:22px;
  padding:5px 12px;
  border-radius:999px;
  border:1px solid #cce3e1;
  background:#ffffff;
  color:var(--brand-strong);
  font-size:12px;
  font-weight:800;
  letter-spacing:.3px;
  z-index:1;
}

#app .question::after{
  content:"";
  position:absolute;
  left:22px;
  right:22px;
  bottom:0;
  height:4px;
  border-radius:999px;
  background:linear-gradient(90deg, rgba(11,107,104,.78), rgba(11,107,104,.16));
}

#app .question .question-text{
  display:block;
  font-family:"Space Grotesk", system-ui, sans-serif;
  font-weight:700;
  font-size:clamp(23px, 2.8vw, 31px);
  color:var(--ink);
  letter-spacing:.1px;
  text-wrap:balance;
}

#app .question .question-text sub,
#app .options .option-text sub,
#app .mistakes-container .m-question sub,
#app .mistakes-container .m-val sub{
  font-size:.72em;
  line-height:0;
  vertical-align:-0.35em;
}

#app .options{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:12px;
}

#app .option-btn{
  appearance:none;
  -webkit-appearance:none;
  width:100%;
  border:1px solid var(--line);
  border-radius:16px;
  background:#fff;
  padding:16px 18px;
  display:flex;
  align-items:flex-start;
  gap:14px;
  text-align:left;
  cursor:pointer;
  box-shadow:0 10px 24px rgba(15, 23, 42, .05);
  transition:all .18s ease;
  color:var(--ink);
}

#app .option-btn::before{
  content:attr(data-letter);
  width:42px;
  height:42px;
  border-radius:12px;
  border:1px solid #dce5ed;
  background:#f1f5f9;
  color:#1f2937;
  font-weight:800;
  font-size:16px;
  flex:0 0 42px;
  display:flex;
  align-items:center;
  justify-content:center;
}

#app .option-btn .option-text{
  display:inline;
  font-size:18px;
  font-weight:600;
  line-height:1.45;
}

#app .option-btn:hover{
  border-color:var(--brand);
  background:#f1fbf9;
  transform:translateY(-1px);
}

#app .option-btn:focus-visible{
  outline:3px solid rgba(11,107,104,.18);
  outline-offset:2px;
}

#app .option-btn.correct{
  background:var(--ok-soft);
  border-color:var(--ok-line);
  color:var(--ok);
}

#app .option-btn.correct::before{
  background:var(--brand);
  color:#fff;
  border-color:transparent;
}

#app .option-btn.wrong{
  background:var(--bad-soft);
  border-color:var(--bad-line);
  color:var(--bad);
}

#app .option-btn.wrong::before{
  background:#ef4444;
  color:#fff;
  border-color:transparent;
}

#app .result{
  text-align:center;
  background:#fff;
  border:1px solid var(--line);
  border-radius:20px;
  padding:26px 20px;
  box-shadow:var(--shadow);
}

#app .score-circle{
  width:112px;
  height:112px;
  margin:0 auto 14px;
  border-radius:50%;
  display:grid;
  place-items:center;
  font-family:"Space Grotesk", system-ui, sans-serif;
  font-size:30px;
  font-weight:700;
  color:#fff;
  background:linear-gradient(135deg, var(--brand), #1a9c8d);
}

#app .result h2{
  margin:8px 0 6px;
  font-size:30px;
  line-height:1.2;
  font-family:"Space Grotesk", system-ui, sans-serif;
}

#app .result p{
  margin:0;
  color:var(--muted);
  font-size:16px;
}

#app .retry-btn{
  margin-top:14px;
  border:none;
  border-radius:12px;
  padding:11px 18px;
  background:var(--brand);
  color:#fff;
  font-size:14px;
  font-weight:700;
  cursor:pointer;
}

#app .retry-btn:hover{
  background:var(--brand-strong);
}

#app .mistakes-container{
  margin-top:16px;
  border:1px solid var(--line);
  border-radius:18px;
  background:var(--surface-alt);
  padding:16px;
}

#app .mistakes-title{
  margin:0 0 14px;
  font-size:18px;
  font-family:"Space Grotesk", system-ui, sans-serif;
}

#app .mistake-card{
  display:flex;
  gap:12px;
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
}

#app .mistake-card + .mistake-card{
  margin-top:10px;
}

#app .m-number{
  width:34px;
  height:34px;
  flex:0 0 34px;
  border-radius:10px;
  background:#e8f0ff;
  color:#1e3a8a;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
}

#app .m-content{flex:1}

#app .m-question{
  font-weight:700;
  line-height:1.4;
  margin-bottom:8px;
}

#app .m-line{
  display:flex;
  align-items:center;
  gap:8px;
  line-height:1.4;
}

#app .m-line + .m-line{
  margin-top:6px;
}

#app .m-icon{
  width:20px;
  text-align:center;
  font-weight:700;
}

#app .wrong-line{color:var(--bad)}
#app .correct-line{color:var(--ok)}

#app .m-label{
  color:var(--muted);
  font-size:13px;
  font-weight:600;
}

#app .m-val{
  color:var(--ink);
  font-weight:700;
}

#app .perfect-score{
  margin-top:16px;
  background:#ecfdf3;
  border:1px solid #bbf7d0;
  color:#166534;
  border-radius:14px;
  text-align:center;
  padding:14px 16px;
  font-weight:700;
}

@media (max-width:900px){
  #app.container{
    width:calc(100% - 18px);
    margin:12px auto;
    padding:15px;
    min-height:calc(100vh - 24px);
    border-radius:18px;
  }

  #app .progress{
    grid-template-columns:auto 1fr auto;
    grid-template-areas:
      "back . count"
      "bar bar bar";
    column-gap:10px;
    row-gap:10px;
  }

  #app .back-btn,
  #app .progress-count{
    width:auto;
  }

  #app .question{
    padding:24px 16px 18px;
  }

  #app .question .question-text{
    font-size:21px;
  }

  #app .question::before{
    left:14px;
    top:-11px;
    font-size:11px;
    padding:4px 10px;
  }

  #app .question::after{
    left:14px;
    right:14px;
  }

  #app .option-btn{
    padding:14px 12px;
    border-radius:14px;
    gap:10px;
  }

  #app .option-btn::before{
    width:36px;
    height:36px;
    border-radius:10px;
    flex-basis:36px;
    font-size:14px;
  }

  #app .option-btn .option-text{
    font-size:16px;
  }

  #app .result h2{
    font-size:26px;
  }
}

@media (prefers-reduced-motion: reduce){
  #app .progress-fill,
  #app .option-btn{
    transition:none;
  }
}
